{"version":3,"file":"index.js","sources":["../../src/components/borderBox12/index.js"],"sourcesContent":["import React, { useMemo, useRef } from 'react'\r\n\r\nimport PropTypes from 'prop-types'\r\n\r\nimport classnames from 'classnames'\r\n\r\nimport { deepMerge } from '@jiaminghi/charts/lib/util/index'\r\nimport { deepClone } from '@jiaminghi/c-render/lib/plugin/util'\r\nimport { fade } from '@jiaminghi/color'\r\n\r\nimport useAutoResize from '../../use/autoResize'\r\n\r\nimport './style.less'\r\n\r\nconst defaultColor = ['#2e6099', '#7ce7fd']\r\n\r\nconst BorderBox = ({ children, className, style, color = [] }) => {\r\n  const filterId = useRef(`borderr-box-12-filterId-${Date.now()}`).current\r\n\r\n  const { width, height, domRef } = useAutoResize()\r\n\r\n  const mergedColor = useMemo(() => deepMerge(deepClone(defaultColor, true), color || []), [color])\r\n\r\n  const classNames = useMemo(() => classnames('dv-border-box-12', className), [\r\n    className\r\n  ])\r\n\r\n  return (\r\n    <div className={classNames} style={style} ref={domRef}>\r\n      <svg className='dv-border-svg-container' width={width} height={height}>\r\n        <defs>\r\n          <filter id={filterId} height='150%' width='150%' x='-25%' y='-25%'>\r\n            <feMorphology operator='dilate' radius='1' in='SourceAlpha' result='thicken' />\r\n            <feGaussianBlur in='thicken' stdDeviation='2' result='blurred' />\r\n            <feFlood floodColor={fade(mergedColor[1] || defaultColor[1], 70)} result='glowColor'>\r\n              <animate\r\n                attributeName='flood-color'\r\n                values={`\r\n                ${fade(mergedColor[1] || defaultColor[1], 70)};\r\n                ${fade(mergedColor[1] || defaultColor[1], 30)};\r\n                ${fade(mergedColor[1] || defaultColor[1], 70)};\r\n              `}\r\n                dur='3s'\r\n                begin='0s'\r\n                repeatCount='indefinite'\r\n              />\r\n            </feFlood>\r\n            <feComposite in='glowColor' in2='blurred' operator='in' result='softGlowColored' />\r\n            <feMerge>\r\n              <feMergeNode in='softGlowColored' />\r\n              <feMergeNode in='SourceGraphic' />\r\n            </feMerge>\r\n          </filter>\r\n        </defs>\r\n\r\n        {\r\n          width && height &&\r\n          <path\r\n            fill='transparent'\r\n            strokeWidth='2'\r\n            stroke={mergedColor[0]}\r\n            d={`\r\n            M15 5 L ${width - 15} 5 Q ${width - 5} 5, ${width - 5} 15\r\n            L ${width - 5} ${height - 15} Q ${width - 5} ${height - 5}, ${width - 15} ${height - 5}\r\n            L 15, ${height - 5} Q 5 ${height - 5} 5 ${height - 15} L 5 15\r\n            Q 5 5 15 5\r\n          `}\r\n          />\r\n        }\r\n\r\n        <path\r\n          strokeWidth='2'\r\n          fill='transparent'\r\n          strokeLinecap='round'\r\n          filter={`url(#${filterId})`}\r\n          stroke={mergedColor[1]}\r\n          d={`M 20 5 L 15 5 Q 5 5 5 15 L 5 20`}\r\n        />\r\n\r\n        <path\r\n          strokeWidth='2'\r\n          fill='transparent'\r\n          strokeLinecap='round'\r\n          filter={`url(#${filterId})`}\r\n          stroke={mergedColor[1]}\r\n          d={`M ${width - 20} 5 L ${width - 15} 5 Q ${width - 5} 5 ${width - 5} 15 L ${width - 5} 20`}\r\n        />\r\n\r\n        <path\r\n          strokeWidth='2'\r\n          fill='transparent'\r\n          strokeLinecap='round'\r\n          filter={`url(#${filterId})`}\r\n          stroke={mergedColor[1]}\r\n          d={`\r\n          M ${width - 20} ${height - 5} L ${width - 15} ${height - 5}\r\n          Q ${width - 5} ${height - 5} ${width - 5} ${height - 15}\r\n          L ${width - 5} ${height - 20}\r\n        `}\r\n        />\r\n\r\n        <path\r\n          strokeWidth='2'\r\n          fill='transparent'\r\n          strokeLinecap='round'\r\n          filter={`url(#${filterId})`}\r\n          stroke={mergedColor[1]}\r\n          d={`\r\n          M 20 ${height - 5} L 15 ${height - 5}\r\n          Q 5 ${height - 5} 5 ${height - 15}\r\n          L 5 ${height - 20}\r\n        `}\r\n        />\r\n      </svg>\r\n      <div className='border-box-content'>\r\n        {children}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nBorderBox.propTypes = {\r\n  children: PropTypes.node,\r\n  className: PropTypes.string,\r\n  style: PropTypes.object,\r\n  color: PropTypes.array\r\n}\r\n\r\nexport default BorderBox\r\n"],"names":["defaultColor","BorderBox","children","className","style","color","filterId","useRef","Date","now","current","useAutoResize","width","height","domRef","mergedColor","useMemo","deepMerge","deepClone","classNames","classnames","fade","propTypes","PropTypes","node","string","object","array"],"mappings":"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"}