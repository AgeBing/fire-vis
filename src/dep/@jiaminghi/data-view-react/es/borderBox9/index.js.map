{"version":3,"file":"index.js","sources":["../../src/components/borderBox9/index.js"],"sourcesContent":["import React, { useState, useMemo } from 'react'\r\n\r\nimport PropTypes from 'prop-types'\r\n\r\nimport classnames from 'classnames'\r\n\r\nimport { deepMerge } from '@jiaminghi/charts/lib/util/index'\r\nimport { deepClone } from '@jiaminghi/c-render/lib/plugin/util'\r\n\r\nimport useAutoResize from '../../use/autoResize'\r\n\r\nimport './style.less'\r\n\r\nconst defaultColor = ['#11eefd', '#0078d2']\r\n\r\nconst BorderBox = ({ children, className, style, color = [] }) => {\r\n  const { width, height, domRef } = useAutoResize()\r\n\r\n  const [{ gradientId, maskId }] = useState(() => {\r\n    const timestamp = Date.now()\r\n\r\n    return {\r\n      gradientId: `border-box-9-gradient-${timestamp}`,\r\n      maskId: `border-box-9-mask-${timestamp}`\r\n    }\r\n  })\r\n\r\n  const mergedColor = useMemo(() => deepMerge(deepClone(defaultColor, true), color || []), [color])\r\n\r\n  const classNames = useMemo(() => classnames('dv-border-box-9', className), [\r\n    className\r\n  ])\r\n\r\n  return (\r\n    <div className={classNames} style={style} ref={domRef}>\r\n      <svg className='dv-svg-container' width={width} height={height}>\r\n        <defs>\r\n          <linearGradient id={gradientId} x1='0%' y1='0%' x2='100%' y2='100%'>\r\n            <animate\r\n              attributeName='x1'\r\n              values='0%;100%;0%'\r\n              dur='10s'\r\n              begin='0s'\r\n              repeatCount='indefinite'\r\n            />\r\n            <animate\r\n              attributeName='x2'\r\n              values='100%;0%;100%'\r\n              dur='10s'\r\n              begin='0s'\r\n              repeatCount='indefinite'\r\n            />\r\n            <stop offset='0%' stopColor={mergedColor[0]}>\r\n              <animate\r\n                attributeName='stop-color'\r\n                values={`${mergedColor[0]};${mergedColor[1]};${mergedColor[0]}`}\r\n                dur='10s'\r\n                begin='0s'\r\n                repeatCount='indefinite'\r\n              />\r\n            </stop>\r\n            <stop offset='100%' stopColor={mergedColor[1]}>\r\n              <animate\r\n                attributeName='stop-color'\r\n                values={`${mergedColor[1]};${mergedColor[0]};${mergedColor[1]}`}\r\n                dur='10s'\r\n                begin='0s'\r\n                repeatCount='indefinite'\r\n              />\r\n            </stop>\r\n          </linearGradient>\r\n\r\n          <mask id={maskId}>\r\n            <polyline\r\n              stroke='#fff'\r\n              strokeWidth='3'\r\n              fill='transparent'\r\n              points={`8, ${height * 0.4} 8, 3, ${width * 0.4 + 7}, 3`}\r\n            />\r\n            <polyline\r\n              fill='#fff'\r\n              points={`8, ${height * 0.15} 8, 3, ${width * 0.1 + 7}, 3\r\n                ${width * 0.1}, 8 14, 8 14, ${height * 0.15 - 7}\r\n              `}\r\n            />\r\n\r\n            <polyline\r\n              stroke='#fff'\r\n              strokeWidth='3'\r\n              fill='transparent'\r\n              points={`${width * 0.5}, 3 ${width - 3}, 3, ${width -\r\n                3}, ${height * 0.25}`}\r\n            />\r\n            <polyline\r\n              fill='#fff'\r\n              points={`\r\n                ${width * 0.52}, 3 ${width * 0.58}, 3\r\n                ${width * 0.58 - 7}, 9 ${width * 0.52 + 7}, 9\r\n              `}\r\n            />\r\n            <polyline\r\n              fill='#fff'\r\n              points={`\r\n                ${width * 0.9}, 3 ${width - 3}, 3 ${width - 3}, ${height * 0.1}\r\n                ${width - 9}, ${height * 0.1 - 7} ${width - 9}, 9 ${width *\r\n                0.9 +\r\n                7}, 9\r\n              `}\r\n            />\r\n\r\n            <polyline\r\n              stroke='#fff'\r\n              strokeWidth='3'\r\n              fill='transparent'\r\n              points={`8, ${height * 0.5} 8, ${height - 3} ${width * 0.3 +\r\n                7}, ${height - 3}`}\r\n            />\r\n            <polyline\r\n              fill='#fff'\r\n              points={`\r\n                8, ${height * 0.55} 8, ${height * 0.7}\r\n                2, ${height * 0.7 - 7} 2, ${height * 0.55 + 7}\r\n              `}\r\n            />\r\n\r\n            <polyline\r\n              stroke='#fff'\r\n              strokeWidth='3'\r\n              fill='transparent'\r\n              points={`${width * 0.35}, ${height - 3} ${width - 3}, ${height -\r\n                3} ${width - 3}, ${height * 0.35}`}\r\n            />\r\n            <polyline\r\n              fill='#fff'\r\n              points={`\r\n                ${width * 0.92}, ${height - 3} ${width - 3}, ${height -\r\n                3} ${width - 3}, ${height * 0.8}\r\n                ${width - 9}, ${height * 0.8 + 7} ${width - 9}, ${height -\r\n                9} ${width * 0.92 + 7}, ${height - 9}\r\n              `}\r\n            />\r\n          </mask>\r\n        </defs>\r\n\r\n        <rect\r\n          x='0'\r\n          y='0'\r\n          width={width}\r\n          height={height}\r\n          fill={`url(#${gradientId})`}\r\n          mask={`url(#${maskId})`}\r\n        />\r\n      </svg>\r\n\r\n      <div className='border-box-content'>{children}</div>\r\n    </div>\r\n  )\r\n}\r\n\r\nBorderBox.propTypes = {\r\n  children: PropTypes.node,\r\n  className: PropTypes.string,\r\n  style: PropTypes.object,\r\n  color: PropTypes.array\r\n}\r\n\r\nexport default BorderBox\r\n"],"names":["defaultColor","BorderBox","children","className","style","color","useAutoResize","width","height","domRef","useState","timestamp","Date","now","gradientId","maskId","mergedColor","useMemo","deepMerge","deepClone","classNames","classnames","propTypes","PropTypes","node","string","object","array"],"mappings":"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"}