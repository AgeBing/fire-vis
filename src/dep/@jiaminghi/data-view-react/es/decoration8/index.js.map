{"version":3,"file":"index.js","sources":["../../src/components/decoration8/index.js"],"sourcesContent":["import React, { useMemo } from 'react'\r\n\r\nimport PropTypes from 'prop-types'\r\n\r\nimport classnames from 'classnames'\r\n\r\nimport { deepMerge } from '@jiaminghi/charts/lib/util'\r\n\r\nimport { deepClone } from '@jiaminghi/c-render/lib/plugin/util'\r\n\r\nimport useAutoResize from '../../use/autoResize'\r\n\r\nimport './style.less'\r\n\r\nconst defaultColor = ['#3f96a5', '#3f96a5']\r\n\r\nconst Decoration = ({ reverse = false, className, style, color = [] }) => {\r\n  const { width, height, domRef } = useAutoResize()\r\n\r\n  const xPos = pos => (!reverse ? pos : width - pos)\r\n\r\n  const mergedColor = useMemo(() => deepMerge(deepClone(defaultColor, true), color || []), [color])\r\n\r\n  const [pointsOne, pointsTwo, pointsThree] = useMemo(\r\n    () => [\r\n      `${xPos(0)}, 0 ${xPos(30)}, ${height / 2}`,\r\n      `${xPos(20)}, 0 ${xPos(50)}, ${height / 2} ${xPos(width)}, ${height / 2}`,\r\n      `${xPos(0)}, ${height - 3}, ${xPos(200)}, ${height - 3}`\r\n    ],\r\n    [reverse, width, height]\r\n  )\r\n\r\n  const classNames = useMemo(() => classnames('dv-decoration-8', className), [\r\n    className\r\n  ])\r\n\r\n  return (\r\n    <div className={classNames} style={style} ref={domRef}>\r\n      <svg width={width} height={height}>\r\n        <polyline\r\n          stroke={mergedColor[0]}\r\n          strokeWidth='2'\r\n          fill='transparent'\r\n          points={pointsOne}\r\n        />\r\n\r\n        <polyline\r\n          stroke={mergedColor[0]}\r\n          strokeWidth='2'\r\n          fill='transparent'\r\n          points={pointsTwo}\r\n        />\r\n\r\n        <polyline\r\n          stroke={mergedColor[1]}\r\n          fill='transparent'\r\n          strokeWidth='3'\r\n          points={pointsThree}\r\n        />\r\n      </svg>\r\n    </div>\r\n  )\r\n}\r\n\r\nDecoration.propTypes = {\r\n  reverse: PropTypes.bool,\r\n  className: PropTypes.string,\r\n  style: PropTypes.object,\r\n  color: PropTypes.array\r\n}\r\n\r\n// 指定 props 的默认值：\r\nDecoration.defaultProps = {\r\n  reverse: false\r\n}\r\n\r\nexport default Decoration\r\n"],"names":["defaultColor","Decoration","reverse","className","style","color","useAutoResize","width","height","domRef","xPos","pos","mergedColor","useMemo","deepMerge","deepClone","pointsOne","pointsTwo","pointsThree","classNames","classnames","propTypes","PropTypes","bool","string","object","array","defaultProps"],"mappings":";;;;;;;;;;;AAcA,IAAMA,eAAe,CAAC,SAAD,EAAY,SAAZ,CAArB;;AAEA,IAAMC,aAAa,SAAbA,UAAa,OAAuD;0BAApDC,OAAoD;MAApDA,OAAoD,gCAA1C,KAA0C;MAAnCC,SAAmC,QAAnCA,SAAmC;MAAxBC,KAAwB,QAAxBA,KAAwB;wBAAjBC,KAAiB;MAAjBA,KAAiB,8BAAT,EAAS;;uBACtCC,eADsC;MAChEC,KADgE,kBAChEA,KADgE;MACzDC,MADyD,kBACzDA,MADyD;MACjDC,MADiD,kBACjDA,MADiD;;MAGlEC,OAAO,SAAPA,IAAO;WAAQ,CAACR,OAAD,GAAWS,GAAX,GAAiBJ,QAAQI,GAAjC;GAAb;;MAEMC,cAAcC,QAAQ;WAAMC,OAAUC,OAAUf,YAAV,EAAwB,IAAxB,CAAV,EAAyCK,SAAS,EAAlD,CAAN;GAAR,EAAqE,CAACA,KAAD,CAArE,CAApB;;iBAE4CQ,QAC1C;WAAM,CACDH,KAAK,CAAL,CADC,YACaA,KAAK,EAAL,CADb,UAC0BF,SAAS,CADnC,EAEDE,KAAK,EAAL,CAFC,YAEcA,KAAK,EAAL,CAFd,UAE2BF,SAAS,CAFpC,SAEyCE,KAAKH,KAAL,CAFzC,UAEyDC,SAAS,CAFlE,EAGDE,KAAK,CAAL,CAHC,WAGWF,SAAS,CAHpB,WAG0BE,KAAK,GAAL,CAH1B,WAGwCF,SAAS,CAHjD,EAAN;GAD0C,EAM1C,CAACN,OAAD,EAAUK,KAAV,EAAiBC,MAAjB,CAN0C,CAP4B;;MAOjEQ,SAPiE;MAOtDC,SAPsD;MAO3CC,WAP2C;;MAgBlEC,aAAaN,QAAQ;WAAMO,WAAW,iBAAX,EAA8BjB,SAA9B,CAAN;GAAR,EAAwD,CACzEA,SADyE,CAAxD,CAAnB;;SAKE;;MAAK,WAAWgB,UAAhB,EAA4B,OAAOf,KAAnC,EAA0C,KAAKK,MAA/C;;;QACO,OAAOF,KAAZ,EAAmB,QAAQC,MAA3B;;gBAEYI,YAAY,CAAZ,CADV;qBAEc,GAFd;cAGO,aAHP;gBAIUI;QALZ;;gBASYJ,YAAY,CAAZ,CADV;qBAEc,GAFd;cAGO,aAHP;gBAIUK;QAZZ;;gBAgBYL,YAAY,CAAZ,CADV;cAEO,aAFP;qBAGc,GAHd;gBAIUM;;;GArBhB;CApBF;;AAgDAjB,WAAWoB,SAAX,GAAuB;WACZC,UAAUC,IADE;aAEVD,UAAUE,MAFA;SAGdF,UAAUG,MAHI;SAIdH,UAAUI;;;CAJnB,CAQAzB,WAAW0B,YAAX,GAA0B;WACf;CADX;;;;"}