{"version":3,"file":"index.js","sources":["../../src/components/decoration2/index.js"],"sourcesContent":["import React, { useMemo } from 'react'\r\n\r\nimport PropTypes from 'prop-types'\r\n\r\nimport classnames from 'classnames'\r\n\r\nimport { deepMerge } from '@jiaminghi/charts/lib/util/index'\r\nimport { deepClone } from '@jiaminghi/c-render/lib/plugin/util'\r\n\r\nimport useAutoResize from '../../use/autoResize'\r\n\r\nimport './style.less'\r\n\r\nconst defaultColor = ['#3faacb', '#fff']\r\n\r\nconst Decoration = ({ reverse = false, className, style, color = [] }) => {\r\n  const { width, height, domRef } = useAutoResize()\r\n\r\n  function calcSVGData() {\r\n    return reverse\r\n      ? { w: 1, h: height, x: width / 2, y: 0 }\r\n      : { w: width, h: 1, x: 0, y: height / 2 }\r\n  }\r\n\r\n  const mergedColor = useMemo(() => deepMerge(deepClone(defaultColor, true), color || []), [color])\r\n\r\n  const { x, y, w, h } = useMemo(calcSVGData, [reverse, width, height])\r\n\r\n  const classNames = useMemo(() => classnames('dv-decoration-2', className), [\r\n    className\r\n  ])\r\n\r\n  return (\r\n    <div className={classNames} style={style} ref={domRef}>\r\n      <svg width={`${width}px`} height={`${height}px`}>\r\n        <rect x={x} y={y} width={w} height={h} fill={mergedColor[0]}>\r\n          <animate\r\n            attributeName={reverse ? 'height' : 'width'}\r\n            from='0'\r\n            to={reverse ? height : width}\r\n            dur='6s'\r\n            calcMode='spline'\r\n            keyTimes='0;1'\r\n            keySplines='.42,0,.58,1'\r\n            repeatCount='indefinite'\r\n          />\r\n        </rect>\r\n\r\n        <rect x={x} y={y} width='1' height='1' fill={mergedColor[1]}>\r\n          <animate\r\n            attributeName={reverse ? 'y' : 'x'}\r\n            from='0'\r\n            to={reverse ? height : width}\r\n            dur='6s'\r\n            calcMode='spline'\r\n            keyTimes='0;1'\r\n            keySplines='0.42,0,0.58,1'\r\n            repeatCount='indefinite'\r\n          />\r\n        </rect>\r\n      </svg>\r\n    </div>\r\n  )\r\n}\r\n\r\nDecoration.propTypes = {\r\n  reverse: PropTypes.bool,\r\n  className: PropTypes.string,\r\n  style: PropTypes.object,\r\n  color: PropTypes.array\r\n}\r\n\r\n// 指定 props 的默认值：\r\nDecoration.defaultProps = {\r\n  reverse: false\r\n}\r\n\r\nexport default Decoration\r\n"],"names":["defaultColor","Decoration","reverse","className","style","color","useAutoResize","width","height","domRef","calcSVGData","w","h","x","y","mergedColor","useMemo","deepMerge","deepClone","classNames","classnames","React","propTypes","PropTypes","bool","string","object","array","defaultProps"],"mappings":";;;;;;;;;;;;;;;;AAaA,IAAMA,eAAe,CAAC,SAAD,EAAY,MAAZ,CAArB;;AAEA,IAAMC,aAAa,SAAbA,UAAa,OAAuD;0BAApDC,OAAoD;MAApDA,OAAoD,gCAA1C,KAA0C;MAAnCC,SAAmC,QAAnCA,SAAmC;MAAxBC,KAAwB,QAAxBA,KAAwB;wBAAjBC,KAAiB;MAAjBA,KAAiB,8BAAT,EAAS;;uBACtCC,0BADsC;MAChEC,KADgE,kBAChEA,KADgE;MACzDC,MADyD,kBACzDA,MADyD;MACjDC,MADiD,kBACjDA,MADiD;;WAG/DC,WAAT,GAAuB;WACdR,UACH,EAAES,GAAG,CAAL,EAAQC,GAAGJ,MAAX,EAAmBK,GAAGN,QAAQ,CAA9B,EAAiCO,GAAG,CAApC,EADG,GAEH,EAAEH,GAAGJ,KAAL,EAAYK,GAAG,CAAf,EAAkBC,GAAG,CAArB,EAAwBC,GAAGN,SAAS,CAApC,EAFJ;;;MAKIO,cAAcC,cAAQ;WAAMC,iBAAUC,iBAAUlB,YAAV,EAAwB,IAAxB,CAAV,EAAyCK,SAAS,EAAlD,CAAN;GAAR,EAAqE,CAACA,KAAD,CAArE,CAApB;;iBAEuBW,cAAQN,WAAR,EAAqB,CAACR,OAAD,EAAUK,KAAV,EAAiBC,MAAjB,CAArB,CAXiD;MAWhEK,CAXgE,YAWhEA,CAXgE;MAW7DC,CAX6D,YAW7DA,CAX6D;MAW1DH,CAX0D,YAW1DA,CAX0D;MAWvDC,CAXuD,YAWvDA,CAXuD;;MAalEO,aAAaH,cAAQ;WAAMI,mBAAW,iBAAX,EAA8BjB,SAA9B,CAAN;GAAR,EAAwD,CACzEA,SADyE,CAAxD,CAAnB;;SAKEkB;;MAAK,WAAWF,UAAhB,EAA4B,OAAOf,KAAnC,EAA0C,KAAKK,MAA/C;;;QACO,OAAUF,KAAV,OAAL,EAA0B,QAAWC,MAAX,OAA1B;;;UACQ,GAAGK,CAAT,EAAY,GAAGC,CAAf,EAAkB,OAAOH,CAAzB,EAA4B,QAAQC,CAApC,EAAuC,MAAMG,YAAY,CAAZ,CAA7C;;yBAEmBb,UAAU,QAAV,GAAqB,OADtC;gBAEO,GAFP;cAGMA,UAAUM,MAAV,GAAmBD,KAHzB;eAIM,IAJN;oBAKW,QALX;oBAMW,KANX;sBAOa,aAPb;uBAQc;;OAVlB;;;UAcQ,GAAGM,CAAT,EAAY,GAAGC,CAAf,EAAkB,OAAM,GAAxB,EAA4B,QAAO,GAAnC,EAAuC,MAAMC,YAAY,CAAZ,CAA7C;;yBAEmBb,UAAU,GAAV,GAAgB,GADjC;gBAEO,GAFP;cAGMA,UAAUM,MAAV,GAAmBD,KAHzB;eAIM,IAJN;oBAKW,QALX;oBAMW,KANX;sBAOa,eAPb;uBAQc;;;;GAzBtB;CAjBF;;AAkDAN,WAAWqB,SAAX,GAAuB;WACZC,yBAAUC,IADE;aAEVD,yBAAUE,MAFA;SAGdF,yBAAUG,MAHI;SAIdH,yBAAUI;;;CAJnB,CAQA1B,WAAW2B,YAAX,GAA0B;WACf;CADX;;;;"}